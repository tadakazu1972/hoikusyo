<!--map.html  2016.2.29 途中利用可能数表記対応
	地図表示、CSVファイル読み込み、マーカー表示（データの中身によって変更）、InfoWindow表示,　マウスオーバー/アウト,GPS取得対応
!-->
<!DOCTYPE html>
<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76198163-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76198163-10');
</script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0, user-scalable=no" />
<style type="text/css">
	html { height: 100% }
	body { height: 100%; margin: 0; padding: 0 }
	#map_canvas { height: 100% }
</style>
<link rel="stylesheet" href="style.css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA5ZVvKxwqjahjdQuyKVodbU4O58Mcg0ec&region=JP&language=ja"></script>
<script type="text/javascript">
//スマホの時はレイアウト変更を判定するため
var width = window.innerWidth;
//マップオブジェクト設定
var mapObj;
//大阪市役所を緯度・軽度の初期値に設定
var posX=34.694062;
var posY=135.502154;
//円オブジェクト設定
var circle;
var radius = 1000; //半径1km
//マーカーイメージ保存用　グローバルに定義しないとあとのswitch文でたくさん必要になるため。
var image;
//マーカー保存用
var markerArray =  new Array();
//保育所クラス　グローバルオブジェクト化
var hoikusyo = new Array();
//保育所クラス　コンストラクタ　定義　csvファイルからデータを読み込んで保存しておく箱
function Hoikusyo(_lat, _lng, _category, _zero, _one, _two, _three, _four, _five){
	this.lat   = _lat;
	this.lng   = _lng;
	this.category = _category;
	this.zero  = _zero;
	this.one   = _one;
	this.two   = _two;
	this.three = _three;
	this.four  = _four;
	this.five  = _five;
}

//マップ作成
google.maps.event.addDomListener(window, 'load', function(){
	//初期設定
	var map = document.getElementById("map_canvas");
	var options = {
		zoom: 14,
		center: new google.maps.LatLng(posX, posY),
		mapTypeId: google.maps.MapTypeId.ROADMAP
	};
	mapObj = new google.maps.Map(map, options);

  //円を描く
	var cOpt = {
		center: new google.maps.LatLng( posX, posY ),
		radius: radius,
		strokeWeight: 3,
		strokeColor: "#0000ff",
		strokeOpacity: 0.7,
		fillColor: "#00ffff",
		fillOpacity: 0.2
	};
	circle = new google.maps.Circle(cOpt);
  circle.setMap(mapObj);

	/* https対応するまで機能OFF
	//現在位置取得を試みる
	if(navigator.geolocation) {
		navigator.geolocation.getCurrentPosition(function(position) {
			var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
			var infowindow = new google.maps.InfoWindow({ map: mapObj, position: pos, content: 'あなたの現在地'});
			mapObj.setCenter(pos);
		}, function(){
			handleNoGeolocation(true);
		});
	} else {
		handleNoGeolocation(false);
	}
	*/
	//保育園CSVファイル読み込み
	var xhr = new XMLHttpRequest();
	xhr.onload = function(){
		var tempArray = xhr.responseText.split("\n");
		csvArray = new Array();
		for(var i=0;i<tempArray.length;i++){
			csvArray[i] = tempArray[i].split(",");
			var data = csvArray[i];
			//マーカー作成　画像ファイルを読み込み
			if (data[9]=="認定こども園") {
				if (data[10]=="0" && data[11]=="0" && data[12]=="0" && data[13]=="0" && data[14]=="0" && data[15]=="0"){
					image = 'icon32x32bgray.png'
				} else {
					image = 'icon32x32b.png';
				}
			} else if (data[9]=="地域型") {
				if (data[10]=="0" && data[11]=="0" && data[12]=="0"){
					image = 'icon32x32cgray.png'
				} else {
			    image = 'icon32x32c.png';
				}
			} else {
				if (data[10]=="0" && data[11]=="0" && data[12]=="0" && data[13]=="0" && data[14]=="0" && data[15]=="0"){
					image = 'icon32x32gray.png'
				} else {
				  image = 'icon32x32.png';
			  }
			}
			var marker = new google.maps.Marker({
				position: new google.maps.LatLng( parseFloat(data[0]), parseFloat(data[1]) ),
				map: mapObj,
				icon: image,
				title: data[2]
			});
			//グローバル保存
			markerArray.push(marker);
			//csvファイル　保育所名:data[2] 住所:data[4] 電話:data[7] URL:data[8] 0歳:data[10] 1歳:data[11] 2歳:data[12] 3歳:data[13] 4歳:data[14] 5歳:data[15] 現在月:data[16] 利用可能月:data[20] カテゴリー:data[9] 指定園:data[17]
			attachMessage(marker, data[2], data[4], data[7], data[8], data[10], data[11], data[12], data[13], data[14], data[15], data[16], data[20], data[9], data[17]);
			//読み込んだデータをhoikusyoクラスに格納
			//前処理として0歳〜5歳データを[スペース、-,ー]など半角数字、全角数字でない場合0にする。あとのswitch文の判定を円滑にするため。
			var regexp = new RegExp(/^[0-9０-９]+$/);
			for (var j=10;j<16;j++){ //data[10]~data[15]の引数に注意
				if (!regexp.test(data[j])){ data[j]="0"; }
			}
			hoikusyo[i] = new Hoikusyo(data[0],data[1],data[9],data[10],data[11],data[12],data[13],data[14],data[15]);
		}
		//console.log(csvArray);
	};
	xhr.open("get", "sukusukudata.csv", true);
	xhr.send(null);

	//center_changedイベント取得　地図の中心が動いたら円を書き直す
	google.maps.event.addListener(mapObj, 'center_changed', function(){
		drawCircle();
	})
});

//地図の中心から円を描く
function drawCircle(){
	//古い円を消去　そうしないとずっと残る
  circle.setMap(null);
	//地図の中心座標取得
	var latlng = mapObj.getCenter();
	var cOpt = {
		center: new google.maps.LatLng( latlng.lat(), latlng.lng() ),
		radius: radius,
		strokeWeight: 3,
		strokeColor: "#0000ff",
		strokeOpacity: 0.7,
		fillColor: "#00ffff",
		fillOpacity: 0.2
	};
	circle = new google.maps.Circle(cOpt);
	circle.setMap(mapObj);
}

//現在地取得失敗処理
function handleNoGeolocation(errorFlag) {
  if (errorFlag) {
    var content = 'エラー: 現在地の取得に失敗しました。';
  } else {
    var content = 'エラー: ブラウザが現在地取得に対応していません。';
  }
  var options = { map: mapObj, position: new google.maps.LatLng(posX, posY), content: content };
  var infowindow = new google.maps.InfoWindow(options);
  mapObj.setCenter(options.position);
}

//空き状況表示
function attachMessage(getmarker, name, add, tel, url, zero, one, two, three, four, five, month, month2, category, sitei) {
	//URLが空白の場合は、何も表示しない。あれば「施設情報」にURLを埋め込む
	if (url=="") {
		var urlstr="";
	} else {
		var urlstr="<a href="+url+">施設情報</a></br>";
	}
	//指定園の場合　施設名の横に追記
	if (sitei==1){
		var name2 = name + '【指定園】';
		var siteistr = "※大阪市要支援児受入促進指定園です。詳しくは、"+"<a href="+"http://www.city.osaka.lg.jp/kodomo/page/0000280259.html"+">「大阪市要支援児受入促進指定園」</a>をご覧ください。";
	} else {
		var name2 = name;
		var siteistr = "";
	}
	//認定こども園の場合 "・保育認定分"の文言追記
	if (category=="認定こども園"){
		var ninko="・保育認定分";
	} else {
		var ninko="";
	}
	//infowindow生成 スマホの時はinfowindowを小さくするため年齢表示の時に改行をしない。
	if (width>600){
		//デスクトップかタブレットの時
		var infowin = new google.maps.InfoWindow({ content:name2+"</br>"+add+"</br>"+"電話番号："+tel+"</br>"+urlstr+"空き状況（"+month+"月1日現在/"+month2+"月からの途中利用可能数"+ninko+"）</br>"+"0歳児："+zero+"</br>1歳児："+one+"</br>2歳児："+two+"</br>3歳児："+three+"</br>4歳児："+four+"</br>5歳児："+five+"</br>"+siteistr+"</br>"});
	} else {
		//スマホの時 幅600ピクセル以下 地域型も３歳〜５歳は表示しない
		if (category=="地域型"){
			var infowin = new google.maps.InfoWindow({ content:name2+"</br>"+add+"</br>"+"電話番号："+tel+"</br>"+urlstr+"空き状況（"+month+"月1日現在/"+month2+"月からの途中利用可能数"+ninko+"）</br>"+"【0歳児："+zero+"】【1歳児："+one+"】【2歳児："+two+"】</br>"+siteistr});
		} else {
			var infowin = new google.maps.InfoWindow({ content:name2+"</br>"+add+"</br>"+"電話番号："+tel+"</br>"+urlstr+"空き状況（"+month+"月1日現在/"+month2+"月からの途中利用可能数"+ninko+"）</br>"+"【0歳児："+zero+"】【1歳児："+one+"】【2歳児："+two+"】</br>【3歳児："+three+"】【4歳児："+four+"】【5歳児："+five+"】</br>"+siteistr});
		}
	}
	//マウスオーバー
	google.maps.event.addListener(getmarker, 'mouseover', function() {
		infowin.open(getmarker.getMap(), getmarker);
	});
	//マウスアウト
	google.maps.event.addListener(getmarker, 'mouseout', function(){
		infowin.close();
	});
	/*
	//クリックでリンク先へ遷移 スマホでタッチするとすぐに施設HPへジャンプしてしまうため、結局、無効化している
	google.maps.event.addListener(getmarker, 'click', function(){
		window.open(url);
	});
	*/
	//ダブルクリックでリンク先へ遷移
	google.maps.event.addListener(getmarker, 'dblclick', function(){
		window.open(url);
	});
}

function clickRadius0(){
  document.radius.elements[0].checked = true;
	document.radius.elements[1].checked = false;
	document.radius.elements[2].checked = false;
	//半径500mに設定
	radius = 500;
	var cOpt = { radius: radius };
	circle.setOptions(cOpt);
}

function clickRadius1(){
	document.radius.elements[0].checked = false;
	document.radius.elements[1].checked = true;
	document.radius.elements[2].checked = false;
	//半径1kmに設定
	radius = 1000;
	var cOpt = { radius: radius };
	circle.setOptions(cOpt);
}

function clickRadius2(){
	document.radius.elements[0].checked = false;
	document.radius.elements[1].checked = false;
	document.radius.elements[2].checked = true;
	//半径2kmに設定
	radius = 2000;
	var cOpt = { radius: radius };
	circle.setOptions(cOpt);
}

function clickCheckbox(){
	//全てのクリックボックスの状況把握
	var flag = new Array(); //ここに６つの配列を用意し、０歳〜５歳がチェックされてたら１たてる
	for (var i=0;i<6;i++){
		if (document.checkbox.elements[i].checked){
			flag[i]=1;
		} else {
			flag[i]=0;
		}
	}
	//フラグをまとめて整数地に変換
	var s;
	s = parseInt(flag[0])*100000 + parseInt(flag[1]*10000) + parseInt(flag[2]*1000) + parseInt(flag[3]*100) + parseInt(flag[4]*10) + parseInt(flag[5]);
	//alert(s);
	switch(s){
		case      0:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  image = 'icon32x32b.png';
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32c.png';
			  } else {
				  image = 'icon32x32.png';
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case      1:
			for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型は５歳は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case     10:
			for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
					image = 'icon32x32cgray.png'; //地域型は４歳は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case     11:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].four=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型は３歳以上は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].four=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case    100:
			for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
					image = 'icon32x32cgray.png'; //地域型は３歳は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case    101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型は３歳以上は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case    110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型は３歳以上は存在しないため必ず灰色
			  } else {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case    111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].two=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].two=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case   1111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].one=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].one=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  10111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
	  case  11000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case  11111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].zero=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
					if (hoikusyo[i].zero=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
				} else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
					image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 100111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 101111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 110111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].three=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111000:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].two=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
					if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].two=="0"){ image = 'icon32x32cgray.png'; } else { image = 'icon32x32c.png'; }
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0"|| hoikusyo[i].two=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111001:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111010:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111011:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].four=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111100:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0"|| hoikusyo[i].three=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111101:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111110:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
		case 111111:
		  for (var i=0; i<markerArray.length; i++){
			  if (hoikusyo[i].category=="認定こども園") {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32bgray.png'; } else { image = 'icon32x32b.png'; }
			  } else if (hoikusyo[i].category=="地域型") {
				  image = 'icon32x32cgray.png'; //地域型３歳以上は存在しないため必ず灰色にする
			  } else {
				  if (hoikusyo[i].zero=="0" || hoikusyo[i].one=="0" || hoikusyo[i].two=="0" || hoikusyo[i].three=="0"|| hoikusyo[i].four=="0" || hoikusyo[i].five=="0"){ image = 'icon32x32gray.png'; } else { image = 'icon32x32.png'; }
			  }
			  opt = { icon: image };
			  markerArray[i].setOptions(opt);
		  }
		  break;
	}
}
</script>
</head>
<body>
	<div id="map_canvas"></div>
	<form name="radius" class="radius">
		<label><input type="checkbox" onclick="clickRadius0()">500m</label>
		<label><input type="checkbox" onclick="clickRadius1()" checked="checked">１km</label>
		<label><input type="checkbox" onclick="clickRadius2()">２km</label>
	</form>
	<form name="checkbox" class="checkbox">
	  <label><input type="checkbox" onclick="clickCheckbox()">０歳</label>
	  <label><input type="checkbox" onclick="clickCheckbox()">１歳</label>
	  <label><input type="checkbox" onclick="clickCheckbox()">２歳</label>
	  <label><input type="checkbox" onclick="clickCheckbox()">３歳</label>
		<label><input type="checkbox" onclick="clickCheckbox()">４歳</label>
		<label><input type="checkbox" onclick="clickCheckbox()">５歳</label>
  </form>
</body>
</html>
